{% extends "website/new-base.html" %}
{% block content %}
    
    <h4>All Players Stats</h4>
    <table id="players_stats" width="100%" class="display">
        <thead>
            <tr>
                <th data-priority="1" data-cy="nameHeading">
                    Name
                </th>
                <th data-priority="4" data-cy="sHeading">
                    S
                </th>
                <th data-priority="3" data-cy="ssHeading">
                    SS
                </th>
                <th data-cy="dHeading">
                    D
                </th>
                <th data-priority="2" data-cy="hrHeading">
                    HR
                </th>
                <th data-cy="kHeading">
                    K
                </th>
                <th data-cy="pfHeading">
                    PF
                </th>
                <th data-cy="fcHeading">
                    FC
                </th>
                <th data-cy="goHeading">
                    GO
                </th>
                <th data-cy="abHeading">
                    AB
                </th>
                <th data-cy="aveHeading">
                    AVE
                </th>
                <th data-cy="rbiHeading">
                    RBI
                </th>
            </tr>
        </thead>
        <tbody>
            {% for name, entry in players.items() %}
                <tr>
                    <td>
                        <a
                        data-cy="nameCell"
                        href="{{ url_for('website.player_page', year=year, player_id=entry.id) }}">
                            {{name}}
                        </a>
                    </td>
                    <td data-cy="sCell">
                        {{entry.s}}
                    </td>
                    <td data-cy="ssCell">
                        {{entry.ss}}
                    </td>
                    <td data-cy="dCell">
                        {{entry.d}}
                    </td>
                    <td data-cy="hrCell">
                        {{entry.hr}}
                    </td>
                    <td data-cy="kCell">
                        {{entry.k}}
                    </td>
                    <td data-cy="foCell">
                        {{entry.fo}}
                    </td>
                    <td data-cy="fcCell">
                        {{entry.fc}}
                    </td>
                    <td data-cy="goCell">
                        {{entry.go}}
                    </td>
                    <td data-cy="abCell">
                        {{entry.bats}}
                    </td>
                    <td data-cy="aveCell">
                        {{'%0.3f'| format(entry.avg)}}
                    </td>
                    <td data-cy="rbiCell">
                        {{entry.rbi}}
                    </td>
                </tr>

            {% endfor %}
        </tbody>
    </table>
{% endblock %}
{% block script %}
<script>
$(document).ready(ready());
function ready(){
        $('#players_stats').DataTable({
            "order": [[4, "desc"]],
            "responsive": true,
        });
}
</script>
{% endblock %}
