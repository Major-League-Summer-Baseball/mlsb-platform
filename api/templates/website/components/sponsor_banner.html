<div class="sponsor-banner js-flickity" data-flickity-options='{ "wrapAround": true, "pageDots": false, "autoPlay": true}'>
    {% for sponsor in sponsors %}
      {% if sponsor.sponsor_name is defined and sponsor.sponsor_name is not none and sponsor.sponsor_name.strip()|length%}
        <div class="sponsor-cell" data-cy="sponsor-cell">
          <a href="{{sponsor.link}}" title="{{sponsor.sponsor_name}}" target="_blank">
            {% if sponsor.logo is none %}
              <img src="{{ url_for('static', filename="default-images/sponsor.png") }}"  alt="Sponsor {{sponsor.sponsor_name}} logo not found">
            {% else %}
              <img src="{{sponsor.logo.url}}" alt="{{sponsor.sponsor_name}}">
            {% endif %}
          </a>
        </div>
       {% endif %}
   {% endfor %}
</div>

<script>
    $( document ).ready(function() {
        var elem = document.querySelector('.sponsor-banner');
        var flkty = new Flickity( elem, {
        // options
        autoPlay: true,
        wrapAround: true,
        pageDots: false,
        cellAlign: 'center',
        contain: true
        });
    });
</script>